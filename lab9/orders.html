<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>История заказов - APEX</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css">
  <link rel="stylesheet" href="style.css">
  <link rel="stylesheet" href="orders.css">
</head>
<body>
<header>
  <h1>APEX</h1>
  <nav>
    <a href="../8/index.html">Главная</a>
    <a href="../8/menu.html">Собрать ланч</a>
    <a href="../8/checkout.html">Оформить заказ</a>
    <a href="orders.html" id="active">Заказы</a>
    <a href="#footer">Контакты</a>
  </nav>
</header>

<main>
  <section>
    <h2>История заказов</h2>
    <div id="notification" class="notification" style="display: none;"></div>
    <div id="orders-list">
      <p id="loading-message">Загрузка заказов...</p>
    </div>
  </section>
</main>

<!-- Модальное окно "Подробнее" -->
<div id="view-modal" class="modal">
  <div class="modal-content">
    <div class="modal-header">
      <h3>Детали заказа</h3>
      <span class="close" data-modal="view-modal">&times;</span>
    </div>
    <div class="modal-body" id="view-modal-body">
      <!-- Содержимое будет заполнено JavaScript -->
    </div>
    <div class="modal-footer">
      <button class="btn btn-primary" data-modal="view-modal">ОК</button>
    </div>
  </div>
</div>

<!-- Модальное окно "Редактирование" -->
<div id="edit-modal" class="modal">
  <div class="modal-content">
    <div class="modal-header">
      <h3>Редактирование заказа</h3>
      <span class="close" data-modal="edit-modal">&times;</span>
    </div>
    <div class="modal-body">
      <form id="edit-form">
        <input type="hidden" id="edit-order-id">

        <label for="edit-full-name">Имя *</label>
        <input type="text" id="edit-full-name" name="full_name" required>

        <label for="edit-email">Email *</label>
        <input type="email" id="edit-email" name="email" required>

        <label for="edit-phone">Телефон *</label>
        <input type="tel" id="edit-phone" name="phone" required>

        <label for="edit-delivery-address">Адрес доставки *</label>
        <input type="text" id="edit-delivery-address" name="delivery_address" required>

        <fieldset class="delivery-type-fieldset">
          <legend>Время доставки:</legend>
          <div class="radio-wrapper">
            <input type="radio" id="edit-delivery-now" name="delivery_type" value="now" required>
            <label for="edit-delivery-now">Как можно скорее</label>
          </div>
          <div class="radio-wrapper">
            <input type="radio" id="edit-delivery-by-time" name="delivery_type" value="by_time" required>
            <label for="edit-delivery-by-time">К указанному времени</label>
          </div>
        </fieldset>

        <label for="edit-delivery-time">Укажите время доставки</label>
        <input type="time" id="edit-delivery-time" name="delivery_time" min="07:00" max="23:00" step="300">
        <p class="time-note">Доступно время доставки с 7:00 до 23:00</p>

        <label for="edit-comment">Комментарий</label>
        <textarea id="edit-comment" name="comment" rows="4"></textarea>
      </form>
    </div>
    <div class="modal-footer">
      <button class="btn btn-secondary" data-modal="edit-modal">Отмена</button>
      <button class="btn btn-primary" id="save-edit-btn">Сохранить</button>
    </div>
  </div>
</div>

<!-- Модальное окно "Удаление" -->
<div id="delete-modal" class="modal">
  <div class="modal-content">
    <div class="modal-header">
      <h3>Подтверждение удаления</h3>
      <span class="close" data-modal="delete-modal">&times;</span>
    </div>
    <div class="modal-body">
      <p>Вы уверены, что хотите удалить этот заказ?</p>
      <p id="delete-order-info"></p>
    </div>
    <div class="modal-footer">
      <button class="btn btn-secondary" data-modal="delete-modal">Отмена</button>
      <button class="btn btn-danger" id="confirm-delete-btn">Да</button>
    </div>
  </div>
</div>

<footer id="footer">
  <p>Контакты:</p>
  <p>Телефон: <a href="tel:+74951234567">+7 (495) 123-45-67</a></p>
  <p>Email: <a href="mailto:info@bizlunch.ru">info@bizlunch.ru</a></p>
  <p>Адрес: Москва, Кремль, вл1</p>
</footer>

<script src="orders.js"></script>
</body>
</html>
